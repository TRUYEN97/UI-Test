<Window x:Class="UiTest.View.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="clr-namespace:UiTest.View"
        Width="1024" Height="600"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">

    <Window.Resources>
        <Storyboard x:Key="CollapseSidebar">
            <DoubleAnimation Storyboard.TargetName="SidebarGrid"
                     Storyboard.TargetProperty="Width"
                     To="0" Duration="0:0:0.2"/>
        </Storyboard>

        <Storyboard x:Key="ExpandSidebar">
            <DoubleAnimation Storyboard.TargetName="SidebarGrid"
                     Storyboard.TargetProperty="Width"
                     To="200" Duration="0:0:0.2"/>
        </Storyboard>
    </Window.Resources>
    <Border CornerRadius="10" Background="{Binding Background}" MouseLeftButtonDown="Border_MouseLeftButtonDown">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border  Grid.Row="0" CornerRadius="10,10,0,0" Background="White">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="ToggleSidebarButton"
                        Content="≡"
                        Style="{StaticResource RoundedWindowButton}"
                        Click="ToggleSidebar_Click"
                        FontSize="16"
                        ToolTip="Extentions"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Left"
                        Margin="8,0"/>
                    <TextBlock Text="{Binding Title}" Grid.Column="1" HorizontalAlignment ="Center"  VerticalAlignment="Center" Margin="0" FontSize="16" />
                    <StackPanel Orientation="Horizontal" Grid.Column="2" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0">
                        <Button Content="-" Style="{StaticResource RoundedWindowButton}" Click="Minimize_Click"/>
                        <Button Content="□" Style="{StaticResource RoundedWindowButton}" Click="Maximize_Click"/>
                        <Button Content="X" Style="{StaticResource RoundedWindowButton}" Click="Close_Click" Foreground="Red" ToolTip="Close"/>
                    </StackPanel>
                </Grid>
            </Border>
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="0" x:Name="SidebarGrid" Width="200">
                    <Border CornerRadius="0,0,0,10" Background="{Binding SideBarBackground}">
                        <StackPanel>
                            <TextBlock Text="MENU" Margin="10" FontWeight="Bold"/>
                            <Button Content="Home" Margin="10"/>
                            <Button Content="Settings" Margin="10"/>
                        </StackPanel>
                    </Border>
                </Grid>
                <Border  Grid.Column="1" Padding="0,10,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="100"/>
                        </Grid.RowDefinitions>
                        <Border Padding="10,0,10,0" Grid.Column="0">
                            <StackPanel>
                                <ui:MyCombobox Label="Mode" 
                                               FontSize="20"
                                               ItemsSource="{Binding StatusList}" 
                                               SelectedItem="{Binding SelectedStatus, Mode=TwoWay}"/>
                                <ui:MyListBox Label="Properties"
                                              Height="100"
                                              ItemsSource ="{Binding Properties}"/>
                            </StackPanel>
                        </Border>
                        
                        <Border Grid.Column="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="60"/>
                                    <RowDefinition Height="1*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <ui:LabeledStatusBox Grid.Row="0" Grid.Column="0" Margin="5,0" Label="Product" Text="{Binding Product}"/>
                                <ui:LabeledStatusBox Grid.Row="0" Grid.Column="1" Margin="5,0" Label="Station" Text="{Binding Station}"/>
                                <ui:LabeledStatusBox Grid.Row="0" Grid.Column="2" Margin="5,0" Label="Pc name" Text="{Binding PcName}"/>
                                <ContentControl Grid.Row="1"  Grid.Column="0"  Grid.ColumnSpan="3" Content="{Binding CurrentViewModel}" Margin="0,10,0,0"/>
                            </Grid>
                        </Border>
                        <Border Grid.Row="2" Grid.Column="0"  Grid.ColumnSpan="3"  Background="#F5F5F5" Padding="10" Margin="5" CornerRadius="5" Effect="{StaticResource ShadowEffect}">
                            <StackPanel>
                                <TextBlock Text="Message box" FontStyle="Italic"/>
                                <ListBox ItemsSource="{Binding LogLines}" Height="50"/>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
